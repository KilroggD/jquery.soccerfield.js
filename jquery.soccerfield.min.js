!function(p){"use strict";p.soccerfield=function(e,s,o){var n={field:{width:"960px",height:"600px",img:"img/soccerfield_green.png",startHidden:!1,animate:!1,fadeTime:1e3,autoReveal:!1,onReveal:function(){}},players:{font_size:16,reveal:!0,sim:!0,timeout:1e3,fadeTime:1e3,img:!1,onReveal:function(){}}},i=p(e);i.addClass("soccerfield-field-container"),i.append("<div class='soccerfield-field'></div>");var a=i.find(".soccerfield-field").first(),t=p(a),l=this;l.options={},l.init=function(){l.options=p.extend(!0,n,o),l.data=s;var e,i=l.data.length;for(l.options.field.startHidden&&p(a).css({display:"none"}),p(a).css({width:l.options.field.width,height:l.options.field.height,position:"relative"}),p(a).data("originalClassList",p(a).attr("class")),l.options.field.img&&t.append('<img class="soccerfield-field-field-img" src="'+l.options.field.img+'" />'),e=0;e<i;e++)s[e].name&&s[e].position&&f(s[e],e);l.options.field.autoReveal&&l.revealField()},l.destroy=function(){i.removeData("soccerfield"),i.empty()};var d=function(){l.options.field.onReveal(),l.revealPlayers()},f=function(e,i){var s,o=e.name,n=p("<div class='soccerfield-player' id='soccerfield-player-"+i+"'></div>"),a=e.img||l.options.players.img;s=e.position.split("_"),l.options.players.reveal&&n.css({display:"none"}),n.addClass("posY-"+s[0]),n.addClass("posX-"+s[1]),a&&n.append("<div style='left:-"+l.options.players.font_size+"px' class='soccerfield-player-img'><img src='"+a+"'/></div>"),n.append("<span class='soccerfield-player-name' style='font-size:"+l.options.players.font_size+"px;min-height:"+2.25*l.options.players.font_size+"px'>"+o+"</span>"),t.append(n)};l.revealField=function(){l.options.field.animate?t.fadeIn(l.options.field.fadeTime,function(){d()}):(p(a).show(),d())},l.revealPlayers=function(){if(l.options.players.sim)p(".soccerfield-player").fadeIn(l.options.players.fadeTime,function(){setTimeout(function(){l.options.players.onReveal()},l.options.players.fadeTime)});else{var e=t.find(".soccerfield-player"),i=1,s=0,o=l.options.players.timeout;e.each(function(){return p(this).delay(o*i).fadeIn(l.options.players.fadeTime,function(){++s===l.data.length&&setTimeout(function(){l.options.players.onReveal()},l.options.players.fadeTime)}),i++,!0})}},l.init()},p.fn.soccerfield=function(i,s){return this.each(function(){if(null==p(this).data("pluginName")){var e=new p.soccerfield(this,i,s);p(this).data("soccerfield",e)}})}}(jQuery);