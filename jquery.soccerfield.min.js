!function(e){"use strict";e.soccerfield=function(i,s,o){var n={field:{width:"960px",height:"600px",img:"img/soccerfield_green.png",startHidden:!1,animate:!1,fadeTime:1e3,autoReveal:!1,onReveal:function(){}},players:{font_size:16,reveal:!0,sim:!0,timeout:1e3,fadeTime:1e3,img:!1,onReveal:function(){}}},a=e(i);a.addClass("soccerfield-field-container"),a.append("<div class='soccerfield-field'></div>");var t=a.find(".soccerfield-field").first(),l=e(t),d=this;d.options={},d.init=function(){d.options=e.extend(!0,n,o),d.data=s;var i,a=d.data.length;for(d.options.field.startHidden&&e(t).css({display:"none"}),e(t).css({width:d.options.field.width,height:d.options.field.height,position:"relative"}),e(t).data("originalClassList",e(t).attr("class")),d.options.field.img&&l.append('<img class="soccerfield-field-field-img" src="'+d.options.field.img+'" />'),i=0;a>i;i++)s[i].name&&s[i].position&&f(s[i],i);d.options.field.autoReveal&&d.revealField()},d.destroy=function(){a.removeData("soccerfield"),a.empty()};var p=function(){d.options.field.onReveal(),d.revealPlayers()},f=function(i,s){var o,n=i.name,a=e("<div class='soccerfield-player' id='soccerfield-player-"+s+"'></div>");o=i.position.split("_"),d.options.players.reveal&&a.css({display:"none"}),a.addClass("posY-"+o[0]),a.addClass("posX-"+o[1]),d.options.players.img&&a.append("<div style='left:-"+d.options.players.font_size+"px' class='soccerfield-player-img'><img src='"+d.options.players.img+"'/></div>"),a.append("<span class='soccerfield-player-name' style='font-size:"+d.options.players.font_size+"px;min-height:"+2.25*d.options.players.font_size+"px'>"+n+"</span>"),l.append(a)};d.revealField=function(){d.options.field.animate?l.fadeIn(d.options.field.fadeTime,function(){p()}):(e(t).show(),p())},d.revealPlayers=function(){if(d.options.players.sim)e(".soccerfield-player").fadeIn(d.options.players.fadeTime,function(){setTimeout(function(){d.options.players.onReveal()},d.options.players.fadeTime)});else{var i=l.find(".soccerfield-player"),s=1,o=0,n=d.options.players.timeout;i.each(function(){return e(this).delay(n*s).fadeIn(d.options.players.fadeTime,function(){o++,o===d.data.length&&setTimeout(function(){d.options.players.onReveal()},d.options.players.fadeTime)}),s++,!0})}},d.init()},e.fn.soccerfield=function(i,s){return this.each(function(){if(void 0==e(this).data("pluginName")){var o=new e.soccerfield(this,i,s);e(this).data("soccerfield",o)}})}}(jQuery);